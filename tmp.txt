IyEvdXNyL2Jpbi9lbnYgcHl0aG9uCiMgLSotIGNvZGluZzogdXRmLTggLSotCgppbXBvcnQgc3lz
CmltcG9ydCByZQppbXBvcnQgb3MKCmlmIG5vdCBvcy5wYXRoLmV4aXN0cygnL3RtcC9nY2YnKToK
ICBvcy5ta2RpcignL3RtcC9nY2YnKQppZiBsZW4oc3lzLmFyZ3YpPjE6CiAgdHlwZSA9IHN5cy5h
cmd2WzFdCmVsc2U6CiAgdHlwZSA9ICdkZWZhdWx0X3R5cGUnCiAgdHJ5OgogICAgb3MucmVtb3Zl
KCcvdG1wL2djZi9kZWZhdWx0X3R5cGVfYmxhY2sudHh0JykKICBleGNlcHQ6CiAgICBwYXNzCiAg
dHJ5OgogICAgb3MucmVtb3ZlKCcvdG1wL2djZi9kZWZhdWx0X3R5cGUudHh0JykKICBleGNlcHQ6
CiAgICBwYXNzCiAgdHJ5OgogICAgb3MucmVtb3ZlKCcvdG1wL2djZi9kZWZhdWx0X3R5cGVfdG1w
LnR4dCcpCiAgZXhjZXB0OgogICAgcGFzcwoKZGVmIGlzSW5CbGFjayhzdHIpOgogIGJsYWNrTGlz
dD1bXTsKICBibGFja0ZpbGU9Jy90bXAvZ2NmLyVzX2JsYWNrLnR4dCcldHlwZTsKICBsYXN0VGlt
ZSA9IDAuMDsKICB0cnk6CiAgICBmaWxlX2luZm8gPSBvcy5zdGF0KGJsYWNrRmlsZSk7CiAgZXhj
ZXB0OgogICAgcmV0dXJuIEZhbHNlCiAgaWYgKCBmaWxlX2luZm8uc3RfbXRpbWUgIT0gbGFzdFRp
bWUpOgogICAgbGFzdFRpbWUgPSBmaWxlX2luZm8uc3RfbXRpbWU7CiAgICBibGFja0xpc3QgPSBb
XTsgCiAgICBmcD1vcGVuKGJsYWNrRmlsZSwgInIiKTsKICAgIGZvciBsaW5lIGluIGZwOiAKICAg
ICAgbGluZSA9IGxpbmUuc3RyaXAoKTsKICAgICAgaWYgKGxlbihsaW5lKSA+IDApOiAKICAgICAg
ICBibGFja0xpc3QuYXBwZW5kKGxpbmUpOwoKICBmb3IgYmxhY2sgaW4gYmxhY2tMaXN0OgogICAg
cGF0dGVybiA9IHJlLmNvbXBpbGUoYmxhY2spCiAgICBtYXRjaCA9IHBhdHRlcm4ubWF0Y2goc3Ry
KQogICAgaWYgbWF0Y2g6CiAgICAgIHJldHVybiBUcnVlCiAgcmV0dXJuIEZhbHNlOwoKZjEgPSBv
cGVuKCcvdG1wL2djZi8lcy50eHQnJXR5cGUsICdhKycpCmxpbmVzID0gZjEucmVhZGxpbmVzKCkK
ZjIgPSBvcGVuKCcvdG1wL2djZi8lc190bXAudHh0JyV0eXBlLCAnYSsnKQpub3JlcGVhdF9saW5l
cz1bXQpmb3IgbGluZTIgaW4gZjI6CiAgbm9yZXBlYXRfbGluZXMuYXBwZW5kKGxpbmUyLnN0cmlw
KCkpCndoaWxlIFRydWU6CiAgbGluZSA9IHN5cy5zdGRpbi5yZWFkbGluZSgpLnJzdHJpcCgpIAog
IGxpbmUxID0gJycKICBpZiBsaW5lID09ICcnOgogICAgY29udGludWU7ICAKICB0cnk6ICAKICAg
IGxpbmUxID0gbGluZS5sc3RyaXAoKQogICAgbGluZTEgPSByZS5zdWIoJ1xkKycsICcwJywgbGlu
ZTEpCiAgZXhjZXB0OgogICAgcGFzcwogIGlmIGxpbmUxIGluIG5vcmVwZWF0X2xpbmVzOgogICAg
IHBhc3M7CiAgZWxpZiBpc0luQmxhY2sobGluZTEpOgogICAgcGFzczsKICBlbHNlOgogICAgcHJp
bnQobGluZSkKICAgIGYxLndyaXRlKGxpbmUrJ1xuJykKICAgIGYxLmZsdXNoKCkKICAgIGYyLndy
aXRlKGxpbmUxKydcbicpCiAgICBmMi5mbHVzaCgpCiAgICBub3JlcGVhdF9saW5lcy5hcHBlbmQo
bGluZTEpCgo=
